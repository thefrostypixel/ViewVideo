<!DOCTYPE html><html lang="en"><head><title>View Video</title><meta name="viewport" content="initial-scale=1"><meta name="description" content=""><link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'></svg>"><style>*:focus-visible{border:none;outline:none}body{display:flex;flex-direction:column;align-items:center;margin:20px;background:#000;color:#DDD;font-family:"system-ui","SF Pro Display","Helvetica Neue","Helvetica","Arial",sans-serif;user-select:none;-webkit-user-select:none}body[theater]{margin:0}#drop{display:flex;justify-content:center;align-items:center;width:min(100vw - 40px, 900px);height:100px;margin-bottom:20px;border:3px dashed #AAA;border-radius:15px;cursor:pointer}#history-toggle{width:40px;height:40px;padding:8px;margin-right:20px;background:#000;border:2px solid #AAA;border-radius:15px;color:inherit;cursor:pointer}#playing{margin-bottom:20px}#history{margin-bottom:20px}#history-list{padding-left:60px}#history-list div{display:flex;justify-content:space-between;align-items:center;margin-top:5px}#history-list button{width:40px;height:40px;padding:8px;margin-left:20px;background:#000;border:2px solid #AAA;border-radius:15px;color:inherit;font-size:inherit;cursor:pointer}[theater] :is(#file,#drop,#history){display:none}#video-container{display:flex;justify-content:center;align-items:center;position:relative}#video-container[hidden]{display:none}[hide-controls]{cursor:none}body:not([theater]) #video-container{max-width:1200px}video{width:100%;height:auto;border-radius:15px}[theater] video{width:100vw;height:100vh;border-radius:0}#controls{position:absolute;left:0;bottom:0;width:100%;background:linear-gradient(to bottom,#0000,#000D)}[hide-controls] #controls{display:none}#controls-buttons{display:flex;justify-content:space-between;margin:10px}#controls-buttons>*>*{width:40px;height:40px;padding:10px;margin:0;font-size:20px;color:#EEE;background:none;border:none}#progress-bar{width:calc(100% - 40px);height:4px;margin-left:20px;background:#888;border-radius:100vw;cursor:pointer}#progressed-bar{height:4px;background:#DDD;border-radius:100vw}button{cursor:pointer}input[type="file"]{display:none}</style></head><body><input id="file" type="file" accept="video/*"><div id="drop">Select or drop a video file</div><div id="history" hidden><button id="history-toggle"></button><span id="playing"></span><div id="history-list"></div></div><div id="video-container" onclick="$('#controls').contains(event.target)||$('video')[$('video').paused?'play':'pause']();" hidden><video preload="metadata" x-webkit-airplay="allow"></video><span id="controls"><div id="progress-bar"><div id="progressed-bar"></div></div><span id="controls-buttons"><span><button id="control-play" onclick="paused?$('video').play():$('video').pause();"></button><span id="progress-text"></span></span><span><button onclick="document.pictureInPictureElement?document.exitPictureInPicture():$('video').requestPictureInPicture();"><svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m9 13h-8v-10h13v6m-5 0v8h10v-8h-10"></path></svg></button><button onclick="$('body').toggleAttribute('theater');"><svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m19 15h-18v-14h18v14m-4 4h-10"></path></svg></button><button onclick="document.fullscreenElement?document.exitFullscreen():$('#video-container').requestFullscreen();"><svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m1 6v-5h5m8 0h5v5m0 8v5h-5m-8 0h-5v-5"></path></svg></button></span></span></span></div><script>let $=q=>document.querySelector(q);let time=s=>`${Math.floor((s || 0) / 60)}:${Math.floor((s || 0) % 60).toString().padStart(2, "0")}`;let history=[];try{history=JSON.parse(localStorage.getItem("ViewVideo"))||history}catch(e){} let showHistory=(playing,keepOpen)=>{if(!keepOpen){$("#history").removeAttribute("hidden");$("#history-toggle").toggleAttribute("hidden",!!playing&&history.length<2);$("#history-toggle").innerHTML=`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m6 1l9 9l-9 9"></path></svg>`;$("#history-list").toggleAttribute("hidden",!0);$("#history-toggle").onclick=()=>{$("#history-list").toggleAttribute("hidden");$("#history-toggle").innerHTML=$("#history-list").hasAttribute("hidden")?`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m6 1l9 9l-9 9"></path></svg>`:`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m1 6l9 9l9 -9"></path></svg>`}} $("#history-list").innerHTML="";history.slice(+!!playing).forEach((entry,i)=>{let entryElem=document.createElement("div");entryElem.innerText=`${entry.name} (${time(entry.time)})`;let removeButton=document.createElement("button");removeButton.innerHTML=`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m3 3l14 14m-14 0l14 -14"></path></svg>`;removeButton.onclick=()=>{history.splice(i+!!playing,1);try{localStorage.setItem("ViewVideo",JSON.stringify(history))}catch(e){} if(history.length){if(!playing){$("#playing").innerText=`Last: ${history[0].name} (${time(history[0].time)})`} showHistory(playing,history.length>!!playing)}else{$("#history").toggleAttribute("hidden",!0)}};entryElem.appendChild(removeButton);$("#history-list").appendChild(entryElem)})};if(history.length){showHistory();$("#playing").innerText=`Last: ${history[0].name} (${time(history[0].time)})`} let paused=!0;let draggingProgress=!1;let url;let loadFile=async file=>{if(file){URL.revokeObjectURL(url);$("#video-container").removeAttribute("hidden");$("video").pause();$("video").ontimeupdate=()=>{};$("video").src=url=URL.createObjectURL(file);let name=file.name.match(/.*(?=\.)/)[0];let id=name.replace(/\s*\d*\s*$/,"")||Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",await file.slice(0,1048576).arrayBuffer()))).map(b=>b.toString(16).toUpperCase().padStart(2,"0")).join("");let historyIndex=history.findIndex(entry=>entry.id==id);$("video").currentTime=history[historyIndex]?.name==name?history[historyIndex].time:0;if(historyIndex>-1){history.splice(historyIndex,1)} history.unshift({id,name,time:$("video").currentTime});try{localStorage.setItem("ViewVideo",JSON.stringify(history))}catch(e){} showHistory(!0);$("video").onpause();($("video").ontimeupdate=()=>{$("#playing").innerText=`Playing: ${name} (${time($("video").currentTime)})`;$("#progress-text").innerHTML=`${time($("video").currentTime)} / ${time($("video").duration)}`;$("#progressed-bar").style.width=`${$("video").currentTime / $("video").duration * 100}%`;history[0].time=$("video").currentTime;try{localStorage.setItem("ViewVideo",JSON.stringify(history))}catch(e){}})()}};let hideControlsTimeout=undefined;let play=()=>{$("video").play();clearTimeout(hideControlsTimeout);hideControlsTimeout=setTimeout(()=>$("#video-container").setAttribute("hide-controls",""),3000)};let pause=()=>{$("video").pause();clearTimeout(hideControlsTimeout);$("#video-container").removeAttribute("hide-controls")};$("video").onplay=()=>{paused=!1;if(draggingProgress){$("#control-play").innerHTML=`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m2.2 1l15.6 9l-15.6 9z"></path></svg>`;pause()}else{$("#control-play").innerHTML=`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m4 1v18m12 -18v18"></path></svg>`;play()}};$("video").onpause=()=>{if(!draggingProgress){paused=!0;$("#control-play").innerHTML=`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m2.2 1l15.6 9l-15.6 9z"></path></svg>`;pause()}};$("#progress-bar").onmousedown=e=>{draggingProgress=!0;pause();$("video").currentTime=Math.min(Math.max((e.clientX-$("#progress-bar").getBoundingClientRect().left)/$("#progress-bar").getBoundingClientRect().width,0),1)*$("video").duration};document.onmousemove=e=>{if(draggingProgress){$("video").currentTime=Math.min(Math.max((e.clientX-$("#progress-bar").getBoundingClientRect().left)/$("#progress-bar").getBoundingClientRect().width,0),1)*$("video").duration}};document.onmouseup=()=>{draggingProgress=!1;if(!paused){play()}};document.onkeyup=e=>{if(e.code=="ArrowRight"){$("video").currentTime+=5*(e.shiftKey?2:1)*(e.ctrlKey?6:1)}else if(e.code=="ArrowLeft"){$("video").currentTime-=5*(e.shiftKey?2:1)*(e.ctrlKey?6:1)}else if(e.code=="Space"){if(paused){$("#control-play").innerHTML=`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m4 1v18m12 -18v18"></path></svg>`;play()}else{$("#control-play").innerHTML=`<svg viewBox="0 0 20 20"><path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m2.2 1l15.6 9l-15.6 9z"></path></svg>`;pause()}}};$("video").onmousemove=()=>{if(!paused&&!draggingProgress){clearTimeout(hideControlsTimeout);hideControlsTimeout=setTimeout(()=>$("#video-container").setAttribute("hide-controls",""),3000);$("#video-container").removeAttribute("hide-controls")}};$("#file").addEventListener("change",e=>loadFile(e.target.files[0]));$("#drop").addEventListener("click",()=>$("#file").click());document.ondragover=e=>e.preventDefault();document.ondrop=e=>{e.preventDefault();loadFile(e.dataTransfer.files[0])};if(/iPhone|iPad|iPod/.test(navigator.userAgent)){$("#controls").setAttribute("hidden","");$("video").setAttribute("controls","")}</script></body></html>